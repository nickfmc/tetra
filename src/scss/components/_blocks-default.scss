/* ==========================================================================
	 BLOCK EDITOR GENERATED STYLES
	 ========================================================================== */

// A lot of time went into testing this and making it work with 3rd party blocks and get nesting of blocks to work, any changes here should be really tested and considered before modifying.

$paddingHorizontal: 25px; 
.editor-content {
 
  padding: 0 $paddingHorizontal;
}


.editor-content > *  { 
  max-width: $wrapper-width-base;
  margin-left: auto;
  margin-right: auto;
  > div[class*="wp-block"] {
    max-width: $wrapper-width-base;
    margin-left: auto;
    margin-right: auto;
  }
}

.editor-content > .alignwide, .editor-content > .is-style-alignwide {
  width: $wrapper-width-wide;
  max-width: 100%;
  margin-left: auto;
  margin-right: auto;
  > div[class*="wp-block"] {
    max-width: $wrapper-width-base;
    margin-left: auto;
    margin-right: auto;
  }
  > div[class*="wp-block"].alignwide {
    width: $wrapper-width-wide;
    max-width: 100%;
    margin-left: auto;
    margin-right: auto;
  }
}

.editor-content > .gb-container.alignfull, .editor-content > [class^="gb-element-"].alignfull,.editor-content > .alignfull  {
  padding-left: 25px;
  padding-right: 25px;
  position: relative;
 }

 #main-content [class^="gb-element-"] > *:last-child {
  margin-bottom: 0;
}





.editor-content > .alignfull {
  transform: translateX(calc(0px - #{$paddingHorizontal}));
  width: calc(100% + 2 * #{$paddingHorizontal});
  max-width: 100vw;
  margin-left: auto;
  margin-right: auto;

  > div[class*="wp-block"] {
    max-width: $wrapper-width-base;
    margin-left: auto;
    margin-right: auto;
    &.alignwide {
      width: $wrapper-width-wide;
      max-width: 100%;
      margin-left: auto;
      margin-right: auto;
    }
  }
  // used when alignfull content has bg image that is position fixed.
  &.parafull {
    transform: none;
    left: -25px;
  }
}

.editor-content > .gb-container.alignfull {
  padding-left: 25px;
  padding-right: 25px;
  position: relative;

 }


.aligncenter {
  text-align: center;
  justify-content: center;
}

.editor-content .alignleft {
  float: left;
  margin-right: 2em;
  max-width: 360px;
}

.editor-content .alignright {
  float: right;
  margin-left: 2em;
  max-width: 360px;
}       

.is-style-secondaryfont {
  font-family: $font-secondary;
}

// ++ table block ++++++++++++++++++++++++++++
.wp-block-table {
  border: 2px solid $color-gray-400;
  & th {
    text-align: center;
  }
  & th, & td {
    border: 2px solid $color-gray-400;
    padding: 10px;
    color: $color-gray-700;
    line-height: 1.2;
  }
  & tr:first-of-type {
    text-align: center;
    & td {
        padding: 30px 10px;
    }  
  }
}



// ++ ul list block (with custom class added) +++++++++++++++++++++++++++++++++
.editor-content ul {
  list-style-type: none;
  margin: 1rem 0 1rem 20px;
  padding: 0;
  overflow: hidden;
  @media(width >= $bp-large) {
  margin-left: 20px;
  } 
}
.editor-content ul li {
  margin: 0;
  padding: 0 0 9px 15px;
  position: relative;
  // font-size: clamped(18px, 20px);
  color: $color-tetra-blue;
  font-weight: 300;
}
.editor-content ul li::before {
  display: block;
  background-color: $color-tetra-blue-alt;
  border-radius: 50%;
  content: "";
	position: absolute;
  width: 6px;
  height: 6px;
  top: 0.58em;
  left: 0;
}

.editor-content  .stk-block-icon-list  ul {
 overflow: visible; 

  li {
    &::before {
      display: none;
    }
  }
}


// ++ ol list block (with custom class added) +++++++++++++++++++++++++++++++++
.editor-content ol {
  counter-reset: item;
  margin: 1rem 0 1rem 30px;
  padding: 0;
  overflow: hidden;
}
.editor-content ol > li {
  padding: 0 0 0.5rem 1.4rem;
  position: relative;
  text-indent: -1.4rem;
}
.editor-content ol > li::before {
  content: counter(item);
  counter-increment: item;
  color: #000;
  font-weight: 400;
  position: relative;
	top: 0;
	width: 1.3rem;
	margin: 0 0.8rem 0 0;
}



//buttons
.wp-block-buttons .wp-block-button:last-of-type {
  margin-right: 0;
}

// WP Columns
// lets match columns to our break points.
body .wp-block-column {
  @media(width <=$bp-medium) {
    flex-basis: 100% !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
  }
}
// wp-5.7 fix
body .wp-block-column:not(:only-child) {
  @media(width <=$bp-medium) {
    flex-basis: 100% !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
  }
}

 // prevent wide columns not having a gutter
 .editor-content .wp-block-column:not(:first-child) {
  @media(width >= $bp-medium) {
    margin-left: 2em;
  } 
}

// we need a no gutter style
.is-style-no-gutter {
  .wp-block-column {
    margin-left: 0;
    margin-right: 0;
  }
}


body .u-break-early {
	@media(width <=$bp-large) {
	flex-direction: column;
   .wp-block-column {
	  flex-basis: 100% !important;
	  max-width: 100%;
	  margin: 0 0 25px 0 !important;
	}
   }
  }


  .has-large-font-size {
    line-height: 1.4;
    font-weight: 300;
  }

  .has-small-font-size {
  line-height: 1.8;
  }

  .wp-block-image {
    margin-bottom: 10px;
    margin-top: 10px;
  }

  .has-white-color {
    color: #fff !important;
    p {
      color: #fff !important;
    }
  }

  // Popups
  .white-popup-block {
    background: rgba(246, 248, 246, 0.95); /* tetra-cool with high opacity */
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(222, 210, 207, 0.3); /* tetra-warm with opacity */
    border-radius: 16px;
    padding: 3rem;
    text-align: left;
    max-width: 1080px;
    margin: 40px auto;
    position: relative;
    box-shadow: 0 20px 40px rgba(37, 30, 45, 0.15), 0 8px 16px rgba(37, 30, 45, 0.1); /* tetra-black shadows */
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    overflow: hidden;
    
    /* Add subtle gradient overlay */
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, #6C486E 0%, #345C6D 100%); /* tetra-purple-to-teal */
      border-radius: 16px 16px 0 0;
    }
    
    /* Add subtle radial gradient overlay */
    &::after {
      content: '';
      position: absolute;
      top: -50%;
      right: -50%;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle, rgba(108, 72, 110, 0.03) 0%, transparent 70%); /* tetra-purple with very low opacity */
      transform: rotate(45deg);
      pointer-events: none;
    }
    
    p {
      font-size: 16px;
      font-weight: 400;
      color: #251E2D; /* tetra-black */
      line-height: 1.6;
      position: relative;
      z-index: 1;
    }
    
    h1, h2, h3, h4, h5, h6 {
      color: #251E2D; /* tetra-black */
      position: relative;
      z-index: 1;
    }
    
    // Hover effect for the entire modal
    &:hover {
      transform: translateY(-2px);
      box-shadow: 0 25px 50px rgba(37, 30, 45, 0.2), 0 12px 20px rgba(37, 30, 45, 0.15);
      background: rgba(246, 248, 246, 0.98); /* slightly more opaque on hover */
    }
  }

  .mfp-bg {
    // background: rgba(37, 30, 45, 0.8); /* tetra-black with opacity */
    background: rgba(41, 62, 70, 0.9);
  
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    opacity: 1;
  }

  .popup-modal-dismiss {
    position: absolute;
    right: 24px;
    top: 24px;
    text-transform: uppercase;
    color: #657962; /* tetra-green */
    font-size: 14px;
    font-weight: 600;
    background: rgba(246, 248, 246, 0.9); /* tetra-cool with opacity */
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(222, 210, 207, 0.3); /* tetra-warm with opacity */
    border-radius: 8px;
    padding: 0.5rem 1rem;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    z-index: 10;
    
    &:hover {
      background: rgba(108, 72, 110, 0.9); /* tetra-purple with opacity */
      color: #FFFFFF; /* tetra-white */
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(37, 30, 45, 0.2); /* tetra-black shadow */
      
      span {
        color: rgba(255, 255, 255, 0.9);
      }
    }
    
    span {
      color: #A8B6A5; /* tetra-green-light */
      font-weight: 400;
      margin-left: 8px;
      transition: color 0.3s ease;
    }
  }
.mfp-arrow-right::before  {
    border-left-color: #6C486E; /* tetra-purple */
  }

  .mfp-arrow-left::before {
    border-right-color: #6C486E; /* tetra-purple */
  }
  
  // Enhanced modal arrow styling
  .mfp-arrow {
    background: rgba(246, 248, 246, 0.9); /* tetra-cool with opacity */
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(222, 210, 207, 0.3); /* tetra-warm with opacity */
    border-radius: 50%;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    
    &:hover {
  
      transform: scale(1.1);
      box-shadow: 0 4px 12px rgba(37, 30, 45, 0.2); /* tetra-black shadow */
    }
  }

  .c-staff-member-grid {
    display: flex;
    flex-flow: row wrap;
    gap: 20px;
    > div {
     
      
      @media(width >= $bp-medium) {
        width: calc(50% - 10px);
      } 
      @media(width >= $bp-large) {
        width: calc(33% - 12px);
      
      } 
      img {
        margin-bottom: 20px;
      }
      h5 {
        color: $color-tetra-blue-light;
        font-size: 18px;
        margin-bottom: 3px;
      }
    }
  }

  .c-staff-title {
    color: $color-tetra-blue;
    font-size: 18px;
    font-weight: 300;
    margin-bottom: 0;
  }

  .c-staff-member-trigger a {
    display: flex;
    align-items: center;
    svg {
      margin-left: 5px;
      width: 20px;
    }
  }

  .c-staff-img {
    position: relative;
   box-shadow: 0 4px 8px rgba(37, 30, 45, 0.1), 0 2px 4px rgba(37, 30, 45, 0.05); /* tetra-black shadows */
    img {
       border-radius: 6px;
      filter: grayscale(100%);
      transition: all 0.3s ease-in-out;
      &:hover {
        filter: grayscale(0%);
      }
    }

  }

  .c-staff-member {
    position: relative;
  }

  .c-staff-member:hover {
    .c-staff-img img {
      filter: grayscale(0%);
       border-radius: 6px;
    }
    .c-staff-img-overlay {
      opacity: 1;
       border-radius: 6px;
      span {
        transform: translateY(0);
      }
    }
  }

  .c-staff-img-overlay {
    position: absolute;
    overflow: hidden;
    z-index: 10;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    transition: all 0.3s ease-in-out;
    background: rgba(0,0,0,0.2);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    span {
      color: #fff;
      font-size: 16px;
      font-weight: 300;
      text-align: center;
      text-transform: uppercase;
      position: absolute;
      bottom: 0;
      transform: translateY(100%);
      padding: 12px;
      background-color: rgba(51, 92, 109, 0.6);
      width: 100%;
      transition: transform 0.3s ease-in-out;
    }
   
  }

  .c-hero-left {
   flex-shrink: 1;
  }

  .personalmeta {
    background: #e0e6e5;
  border-radius: 0 0 10px 10px;
  
    div {
        a {
          padding: 9px 13px;
          border-bottom: 1px solid #fff;
          display: flex;
          flex-flow: row wrap;
          gap:8px;
          font-weight: 300;
          transition: $transition-ease;
          transition: color 0.5s ease;
          background-size: 200% auto;
          background-position: right bottom;
          background-repeat: no-repeat;
          position: relative;
          overflow: clip;
          span {
            display: flex;
          flex-flow: row wrap;
          gap:8px;
          font-weight: 300;
          transition: $transition-ease;
          transition: color 0.5s ease;
          z-index: 2;
          }

          &:before {
            content: "";
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            background-image: linear-gradient(to right, #88aebd 0%, #9b9477 100%);
            opacity: 0;
            transition: all 0.5s ease;
            z-index: 1;
            transform: translateX(-100%);
        }



          &:hover {
            // animation: gradient 1s ease-in-out forwards;
          // background-image: linear-gradient(to right, #88aebd 0%, #9b9477 100%);
            color: #fff;
            &:before {
              opacity: 1;
              transform: translateX(0);
          }
          }
        }
        &:last-of-type a {
          border-radius: 0 0 10px 10px;
          border-bottom: none;
          &:hover {
            border-radius: 0 0 10px 10px;
          }
          &:before {
            border-radius: 0 0 10px 10px;
          }
        }
    }
  }

  // Contact Meta Card - Glass Effect to match Broker Cards
  .c-meta-card {
    background: linear-gradient(135deg, #6C486E 0%, #345C6D 100%); /* tetra-purple-to-teal */
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(222, 210, 207, 0.2); /* tetra-warm with opacity */
    border-radius: 12px;
    padding: 1.5rem;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
    box-shadow: 0 10px 25px rgba(108, 72, 110, 0.3), 0 4px 10px rgba(37, 30, 45, 0.1); /* tetra-purple and tetra-black shadows */
    color: white;
    padding: 10px !important;
    
    /* Add subtle radial gradient overlay */
    &::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -50%;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle, rgba(246, 248, 246, 0.1) 0%, transparent 70%); /* tetra-cool with opacity */
      transform: rotate(45deg);
      pointer-events: none;
    }
    
    &:hover {
      transform: translateY(-4px);
      box-shadow: 0 15px 35px rgba(108, 72, 110, 0.4), 0 8px 16px rgba(37, 30, 45, 0.15); /* enhanced shadows */
    }
    
    /* Style the image container */
    .gb-block-image {
      position: relative;
      z-index: 1;
      margin-bottom: 1.25rem;
      margin-top: 0;
      
      img {
        border-radius: 8px;
        border: 3px solid rgba(246, 248, 246, 0.4); /* tetra-cool with opacity */
        box-shadow: 0 4px 12px rgba(37, 30, 45, 0.2); /* tetra-black shadow */
        transition: transform 0.3s ease;
        
        &:hover {
          transform: scale(1.05);
        }
      }
    }
    
    /* Enhanced personalmeta styling to match broker contact details */
    .personalmeta {
      background: rgba(246, 248, 246, 0.15); /* tetra-cool with opacity */
      backdrop-filter: blur(0);
      border: 1px solid rgba(246, 248, 246, 0.2); /* tetra-cool with opacity */
      border-radius: 8px;
      position: relative;
      z-index: 1;
      overflow: hidden;
      
      div {
        a {
          padding: 0.75rem 1rem;
          border-bottom: 1px solid rgba(246, 248, 246, 0.2); /* tetra-cool with opacity */
          display: flex;
          align-items: center;
          gap: 0.75rem;
          font-weight: 500;
          font-size: 0.875rem;
          color: #FFFFFF; /* tetra-white */
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          background: transparent;
          position: relative;
          overflow: hidden;
          
          span {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-weight: 500;
            transition: all 0.3s ease;
            z-index: 2;
            position: relative;
            color: #FFFFFF; /* tetra-white */
            
            svg {
              flex-shrink: 0;
              filter: drop-shadow(0 1px 2px rgba(37, 30, 45, 0.2));
              color: rgba(246, 248, 246, 0.9); /* tetra-cool with opacity */
              transition: color 0.3s ease;
            }
          }
          
          &::before {
            content: "";
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            background: rgba(37, 30, 45, 0.2); /* tetra-black with opacity for better contrast */
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1;
            transform: translateX(-100%);
          }
          
          &:hover {
            color: #FFFFFF; /* tetra-white */
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(37, 30, 45, 0.3); /* enhanced tetra-black shadow */
            
            &::before {
              opacity: 1;
              transform: translateX(0);
            }
            
            span {
              color: #FFFFFF; /* tetra-white */
              
              svg {
                color: #FFFFFF; /* tetra-white */
              }
            }
          }
        }
        
        &:last-of-type a {
          border-radius: 0 0 8px 8px;
          border-bottom: none;
          
          &:hover {
            border-radius: 0 0 8px 8px;
          }
          
          &::before {
            border-radius: 0 0 8px 8px;
          }
        }
        
        &:first-of-type a {
          border-radius: 8px 8px 0 0;
          
          &::before {
            border-radius: 8px 8px 0 0;
          }
        }
        
        &:only-child a {
          border-radius: 8px;
          
          &::before {
            border-radius: 8px;
          }
        }
      }
    }
   
  }

  @keyframes gradient {
    0% {
        background-position: left bottom;
    }
    100% {
        background-position: right bottom;
    }
}